<!-- View of a molecule in search results or browsing   -->
{% macro simpleViewer(mol2='RY/RYYVLZVUVIJVGH-UHFFFAOYSA-N.mol2', style='stick') -%} 
     <div class='viewer_3Dmoljs' data-href='/static/data/mol2/{{mol2}}' 
          data-type='mol2'
          data-backgroundcolor='0xffffff' 
          data-style='{{style}}'>
     </div>
{%- endmacro %}

<!-- View of a molecule in search results or browsing   -->
{% macro resultMolecule(mol2='RY/RYYVLZVUVIJVGH-UHFFFAOYSA-N.mol2', data='', style='stick') -%} 
<div class="molecule-viwer row">
     <div class="col-md-4" class="">
          <div class='viewer_3Dmoljs' data-href='/static/data/mol2/{{mol2}}' data-type='mol2' data-backgroundcolor='0xffffff' data-style='{{style}}'></div>
     </div>

     <div class="col-md-8 properties">
          <h3><a href="/mol/152135" target="_blank">Caffeine</a>
               <span class="pull-right">
                    <a href="#" data-toggle="modal" data-target="#qrcodemodal"> <i class="fa fa-qrcode"></i> </a>
               </span>
          </h3>
          <!-- Table for all of the properties -->
          <div class="molecule-formula">
               C<sub>8</sub>H<sub>10</sub>N<sub>4</sub>O<sub>2</sub>
          </div>
     </div>
</div>
{%- endmacro %}

<!-- Main view of a molecule -->
{% macro moleculeMainView(mol2, jsonDict, style='stick') -%}
<div class="molecule row">

     <!-- Molecule name as h1 for SEO-->
     <h1 id="molecule-name">
          <a class="visible-xs-inline" href="#" data-toggle="modal" data-target="#qrcodemodal"><i class="fa fa-qrcode"></i></a> {{ jsonDict["name"].title() }}
     </h1>


     <!--This is where the canvas/img/js will be for the molecule viewer (Using an image for tempalte-->
     <div id="molecule-viewer" class="col-sm-12 col-md-7 col-md-push-5">
          <div class='viewer_3Dmoljs' data-href='/static/data/mol2/{{mol2}}' data-type='mol2' data-backgroundcolor='0xffffff' data-style='{{style}}'></div>
          
     </div>

     <section id="molecule-details">
          <div id="molecule-properties" class="col-sm-12 col-md-5 col-md-pull-7">
               <div class="panel panel-default">
                    <!-- Default panel contents -->
                    <div class="panel-heading">
                         <h2>Properties
                              <span class='pull-right properties-view-options'> <a href="#" id="simpleView">Simple</a> | <a href="#" id="detailedView">Detailed</a></span>
                         </h2>
                    </div>

                    <div class="panel-body">
                         <p>Listed below are the properties for
                              <strong>{{ jsonDict["name"].title() }}</strong>.</p>
                    </div>

                    <!-- Table for all of the properties -->
                    <table class="table">
                         <thead>

                         </thead>

                         <tbody>

                              <tr class="molecule-formula">
                                   <td>Formula<sup><a href="#" data-container="body" data-toggle="tooltip" title="Chemical formula"><i class="fa fa-question"></i></a></sup></td>
                                   <td>{{ jsonDict["formula"]|subnumbers|safe}}</td>
                              </tr>

                              <tr class="molecule-iupac-name">
                                   <td>IUPAC Name<sup><a href="#" data-container="body" data-toggle="tooltip" title="The standard name of this molecule"><i class="fa fa-question"></i></a></sup></td>
                                   <td>{{ jsonDict["iupac_name"].title() }}</td>
                              </tr>

                              <tr class="molecule-molecular-mass">
                                   <td>Molecular Mass<sup><a href="#" data-container="body" data-toggle="tooltip" title="The mass of the molecule in g/mol"><i class="fa fa-question"></i></a></sup></td>
                                   <td>{{ jsonDict["molecular mass"] }} g·mol<sup>−1</sup></td>
                              </tr>

                              <tr class="molecule-head-of-formation">
                                   <td>Heat of Formation<sup><a href="#" data-container="body" data-toggle="tooltip" title="Some tooltip text!"><i class="fa fa-question"></i></a></sup></td>
                                   <td>{{ jsonDict["pm7"]["heatOfFormation"] }} kJ·mol<sup>−1</sup></td>
                              </tr>

                              <tr class="molecule-dipole-movement">
                                   <td>Dipole Moment<sup><a href="#" data-container="body" data-toggle="tooltip" title="Some tooltip text!"><i class="fa fa-question"></i></a></sup></td>
                                   <td>{{ jsonDict["pm7"]["dipoleMoment"] }} D</td>
                              </tr>

                              <tr class="molecule-doi">
                                   <td>D.O.I<sup><a href="#" data-container="body" data-toggle="tooltip" title="Some tooltip text!"><i class="fa fa-question"></i></a></sup></td>
                                   <td><a href="#"> dx.doi.org/10.1234/pqr-mlfhjehsliiphl-uhfffaoysa-n</td>
							</tr>

							<!-- Begin Detailed Section -->
							<tr class="molecule-alt-names detailed">
								<td>Synonyms<sup><a href="#" data-container="body" data-toggle="tooltip" title="Some tooltip text!"><i class="fa fa-question"></i></a></sup>
                                   </td>
                                   <td>
                                        <ul class="list-inline">
                                             {% for i in jsonDict["synonyms"] %}
                                             <li>{{ i }}</li>
                                             {% endfor %}
                                        </ul>
                                   </td>
                              </tr>

                              <tr class="molecule-cas-numbers detailed">
                                   <td>CAS Number(s)<sup><a href="#" data-container="body" data-toggle="tooltip" title="Some tooltip text!"><i class="fa fa-question"></i></a></sup></td>
                                   <td>
                                        <ul class="list-inline">
                                             {% if jsonDict["cas"] is string %}
                                                  <li>{{ jsonDict["cas"] }}</li>
                                                  {% else %}
                                                  
                                                  {% for i in jsonDict["cas"] %}
                                                       <li>{{ i }}</li>
                                                  {% endfor %}
                                             {% endif %}
   
                                        </ul>
                                   </td>
                              </tr>

                              <tr class="molecule-inchikey detailed">
                                   <td>inchikey<sup><a href="#" data-container="body" data-toggle="tooltip" title="Some tooltip text!"><i class="fa fa-question"></i></a></sup></td>
                                   <td>{{ jsonDict["inchikey"] }}</td>
                              </tr>

                              <tr class="molecule-pg-symmetry detailed">
                                   <td>Point Group Symmetry<sup><a href="#" data-container="body" data-toggle="tooltip" title="Some tooltip text!"><i class="fa fa-question"></i></a></sup></td>
                                   <td>{{ jsonDict["pointGroup"]|truncate(1, true, '') }}<sub>{{jsonDict["pointGroup"]|replace(jsonDict["pointGroup"]|truncate(1, true, ''), '') }}</sub>
                                   </td>
                                   <!--Will use JS to automatically add subscripts -->
                              </tr>

                              <tr class="molecule-volume detailed">
                                   <td>Volume<sup><a href="#" data-container="body" data-toggle="tooltip" title="Some tooltip text!"><i class="fa fa-question"></i></a></sup></td>
                                   <td>{{ jsonDict["pm7"]["volume"] }} &#8491;<sup>3</sup></td>
                              </tr>

                              <tr class="molecule-surface-area detailed">
                                   <td>Surface Area<sup><a href="#" data-container="body" data-toggle="tooltip" title="Some tooltip text!"><i class="fa fa-question"></i></a></sup></td>
                                   <td>{{ jsonDict["pm7"]["surfaceArea"] }} &#8491;<sup>2</sup></td>
                              </tr>

                              <tr class="molecule-homo-energy detailed">
                                   <td>Homo Energy<sup><a href="#" data-container="body" data-toggle="tooltip" title="Some tooltip text!"><i class="fa fa-question"></i></a></sup></td>
                                   <td>{{ jsonDict["pm7"]["homo"] }} eV</td>
                              </tr>

                              <tr class="molecule-lumo-energy detailed">
                                   <td>LUMO Energy<sup><a href="#" data-container="body" data-toggle="tooltip" title="Some tooltip text!"><i class="fa fa-question"></i></a></sup></td>
                                   <td>{{ jsonDict["pm7"]["lumo"] }} eV</td>
                              </tr>
                              <!-- End Detailed Section -->


                              <tr class="molecule-qr-code">
                                   <td>Qr Code<sup><a href="#" data-container="body" data-toggle="tooltip" title="Generate a QR code for this molecule"><i class="fa fa-question"></i></a></sup></td>
                                   <td> <a href="#" data-toggle="modal" data-target="#qrcodemodal"> Generate QR Code </a></td>
                              </tr>
                              <tr class="molecule-tags">
                                   <td> <i class="fa fa-tags"></i></td>
                                   <td>


                                        {% for i in jsonDict["tags"] %}
                                       <!--  <a href="#"> MAKE THEM CLICK TO THE SEARCH WHEN IMPLEMENTED-->
                                             <span class="label label-primary">{{ i }}</span>
                                        <!-- </a> -->
                                        {% endfor %}

                                        <!-- <a href="#"><span class="label label-warning"><i class="fa fa-plus-square-o"></i></span></a> -->

                                   </td>
                              </tr>




                         </tbody>
                    </table>
               </div>
          </div>
     </section>
     <!-- End Properties Section -->



</div>
{%- endmacro %} 


